      module parallel_mod
      implicit none
	integer ::
     &           comm_k,   ! copy of comm_tau_kk_pbr to match Sangkook's code
     &           comm_knt,
     &	         comm_pnk,
     &           comm_pnt,
     &           comm_pkt,
     &           comm_tau_k,
     &           comm_tau_kk_pbr,
     &           master,
     &           me,
     &           me_kk_pbr,
     &           me_tau_kk_pbr,
     &           me_tau_k,
     &           me3_k,
     &           me3_tau,
     &           me4_kk,
     &           me4_pbr,              
     &	         msgdbl,
     &	         msgint,
     &           msgchr,
     &           ndim3_nu,
     &           ndim3_omega,
     &           ndim3_tau,
     &           ndim4_kk,
     &           nproc,
     &           nproc_k,
     &           nproc_tau
	logical :: goparr,
     &           maswrk
	integer, allocatable :: n_mpi_istar(:),
     &                        n_mpi_k(:),
     &                        n_mpi_kk(:),
     &                        n_mpi_kplot(:),
     &                        n_mpi_nfun(:),
     &                        n_mpi_nrr(:),
     &                        n_mpi_nrr_cor(:),
     &                        n_mpi_nrs_red2(:),
     &                        n_mpi_nu(:),
     &                        n_mpi_nu_d(:),
     &                        n_mpi_numplw(:),
     &                        n_mpi_omega(:),
     &                        n_mpi_omega_d(:),
     &                        n_mpi_pbmt(:),
     &                        n_mpi_pbtt(:),
     &                        n_mpi_pbt(:),
     &                        n_mpi_tau(:),
     &                        n3_mpi_k(:),
     &                        n3_mpi_kk(:),
     &                        n3_mpi_kkt(:),
     &                        n3_mpi_nr(:),
     &                        n3_mpi_nr_red(:),
     &                        n3_mpi_nrs_red2(:),
     &                        n3_mpi_nu_d(:),
     &                        n3_mpi_omega_d(:),
     &                        n4_mpi_pbr(:,:),
     &                        ndim_istar(:),
     &	                      ndim_k(:),
     &	                      ndim_kk(:),
     &                        ndim_kplot(:),
     &                        ndim_nfun(:),
     &                        ndim_nrr(:),
     &                        ndim_nrr_cor(:),
     &                        ndim_nrs_red2(:),
     &                        ndim_nu(:),
     &                        ndim_nu_d(:),
     &                        ndim_numplw(:),
     &                        ndim_omega(:),
     &                        ndim_omega_d(:),
     &                        ndim_pbmt(:),
     &                        ndim_pbtt(:),
     &                        ndim_pbt(:),
     &                        ndim_tau(:),
     &                        ndim3_k(:),
     &	                      ndim3_kk(:),
     &	                      ndim3_kkt(:),
     &                        ndim3_nr_red(:),
     &                        ndim3_nrs_red2(:),
     &                        ndim3_nu_d(:),
     &                        ndim3_omega_d(:),
     &	                      ndim4_pbr(:,:),
     &                        ndimt_nr(:),
     &                        ndimt_nr_red(:),
     &                        nt_mpi_nr(:),
     &                        nt_mpi_nr_red(:)
      end
